{"id":"ai-scrapbook-ip5","title":"Document required API keys for summarization feature","description":"## Required (pick your AI provider)\n- OPENAI_API_KEY - For generating summaries (if using OpenAI)\n- ANTHROPIC_API_KEY - For generating summaries (if using Anthropic)\n\n## For Twitter/X (pick one method)\n- SWEETISTICS_API_KEY - Easiest option, third-party API for Twitter access\n- OR: TWITTER_AUTH_TOKEN + TWITTER_CT0 - Your Twitter session cookies (from browser dev tools)\n\n## For Reddit\n- REDDIT_CLIENT_ID - From reddit.com/prefs/apps\n- REDDIT_CLIENT_SECRET - From reddit.com/prefs/apps\n- REDDIT_USERNAME - Your Reddit account\n- REDDIT_PASSWORD - Your Reddit password\n\n## What works without keys?\n- Articles: Just AI provider key (OpenAI or Anthropic)\n- Twitter/X: AI key + Twitter auth\n- Reddit: AI key + Reddit credentials\n\nMinimum to get started: Just your existing OPENAI_API_KEY or ANTHROPIC_API_KEY â€” article summarization will work. Add Twitter/Reddit keys when you need those features.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T13:40:59.765628-08:00","updated_at":"2025-12-20T13:40:59.765628-08:00"}
{"id":"ai-scrapbook-qhh","title":"Auto-summarize URLs on capture","description":"Integrate /summarize functionality into /capture endpoint so URLs are automatically summarized when captured.\n\n## Goals\n- When a URL is captured, automatically extract and summarize the content\n- Use bird CLI for Twitter/X URLs (when configured)\n- Use snoowrap for Reddit URLs (when configured)\n- Use Cheerio for article URLs (always available)\n- Store summary alongside enriched content\n\n## Approach\n- Create new feature branch from main\n- Add 'summary' field to content_items or reuse description\n- Call SummarizeService from ContentService.capture()\n- Make summarization async (fire-and-forget) like enrichment\n- Handle graceful degradation when services not configured\n\n## Acceptance Criteria\n- POST /capture with a URL auto-generates summary\n- Summary stored in content_items\n- Works for Twitter, Reddit, and article URLs\n- Graceful fallback when Twitter/Reddit not configured","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-20T16:45:48.784856-08:00","updated_at":"2025-12-20T16:46:07.612221-08:00"}
{"id":"ai-scrapbook-qhh.1","title":"Create feature branch from main","description":"Create git branch feature/capture-auto-summarize from latest main","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-20T16:46:26.510835-08:00","updated_at":"2025-12-20T16:46:26.510835-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.1","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:46:26.511291-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-qhh.2","title":"Add summary field to content_items schema","description":"Add optional 'summary' column to content_items table in Supabase. Update ContentItem type in src/types/content.ts to include summary field.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-20T16:46:29.152087-08:00","updated_at":"2025-12-20T16:46:29.152087-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.2","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:46:29.152474-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-qhh.3","title":"Integrate SummarizeService into ContentService.capture","description":"Modify ContentService.capture() to call SummarizeService for URL content types. Run summarization async (fire-and-forget) alongside existing enrichment. Store result in summary field.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-20T16:46:49.715495-08:00","updated_at":"2025-12-30T09:18:21.177753-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.3","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:46:49.715967-08:00","created_by":"daemon","metadata":"{}"},{"issue_id":"ai-scrapbook-qhh.3","depends_on_id":"ai-scrapbook-w4t.5","type":"blocks","created_at":"2025-12-30T09:17:47.721796-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-qhh.3","depends_on_id":"ai-scrapbook-w4t.6","type":"blocks","created_at":"2025-12-30T09:17:54.637763-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-qhh.3","depends_on_id":"ai-scrapbook-w4t.7","type":"blocks","created_at":"2025-12-30T09:18:00.572311-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-qhh.4","title":"Handle graceful degradation for unconfigured services","description":"When Twitter/Reddit credentials not configured, fall back to basic Cheerio extraction for those URLs. Log warning but don't fail capture.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T16:46:55.435536-08:00","updated_at":"2025-12-20T16:46:55.435536-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.4","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:46:55.436534-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-qhh.5","title":"Update CLAUDE.md with new capture behavior","description":"Document the auto-summarization feature in CLAUDE.md Architecture section. Explain content type detection and summarization flow.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T16:46:58.903723-08:00","updated_at":"2025-12-20T16:46:58.903723-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.5","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:46:58.904157-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-qhh.6","title":"Add tests for auto-summarize on capture","description":"Add unit tests for the capture + summarize integration. Test URL detection, graceful degradation, and async summarization.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T16:47:02.269211-08:00","updated_at":"2025-12-20T16:47:02.269211-08:00","dependencies":[{"issue_id":"ai-scrapbook-qhh.6","depends_on_id":"ai-scrapbook-qhh","type":"parent-child","created_at":"2025-12-20T16:47:02.269753-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-w4t","title":"Summarize-core integration (Railway)","description":"Bring summarize-core extraction + prompt flow into the API for parity with the summarize tool. Use Node 22 ESM (done) and keep Railway-friendly runtime (no separate binaries). Goal: URLs, YouTube, podcasts, files, and media links should summarize with summarize-core extraction, then use existing AI provider for generation.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-29T23:13:35.87525-08:00","updated_at":"2025-12-29T23:13:35.87525-08:00"}
{"id":"ai-scrapbook-w4t.1","title":"Add summarize-core dependency + env configuration","description":"Add @steipete/summarize-core to dependencies. Extend env schema for optional services (FIRECRAWL_API_KEY, APIFY_API_TOKEN, YT_DLP_PATH, FAL_KEY, SUMMARIZE_MODEL if needed). Keep Railway-friendly defaults.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:13:49.7128-08:00","updated_at":"2025-12-30T09:50:43.326249-08:00","closed_at":"2025-12-30T09:50:43.326249-08:00","close_reason":"Completed","dependencies":[{"issue_id":"ai-scrapbook-w4t.1","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:13:49.714552-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-w4t.1","depends_on_id":"ai-scrapbook-qhh.3","type":"blocks","created_at":"2025-12-30T09:13:49.715234-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.2","title":"Implement summarize-core extraction adapter","description":"Wire summarize-core link preview client to fetch/extract content (URLs, YouTube, podcasts, direct media). Inject bird readTweetWithBird where applicable. Return extracted text + metadata for summarization.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:13:58.268056-08:00","updated_at":"2025-12-30T09:50:53.938831-08:00","closed_at":"2025-12-30T09:50:53.938831-08:00","close_reason":"Completed","dependencies":[{"issue_id":"ai-scrapbook-w4t.2","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:13:58.268799-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-w4t.2","depends_on_id":"ai-scrapbook-qhh.3","type":"blocks","created_at":"2025-12-30T09:13:58.269397-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.3","title":"Update SummarizeService to use summarize-core prompts","description":"Use summarize-core prompt builders (link summary prompt + length tokens) with extracted content. Keep AI provider generation path. Ensure metadata mapping matches existing SummarizeResult.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:14:05.657676-08:00","updated_at":"2025-12-30T09:50:59.970481-08:00","closed_at":"2025-12-30T09:50:59.970481-08:00","close_reason":"Completed","dependencies":[{"issue_id":"ai-scrapbook-w4t.3","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:14:05.658314-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-w4t.3","depends_on_id":"ai-scrapbook-qhh.3","type":"blocks","created_at":"2025-12-30T09:14:05.658952-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.4","title":"Update summarize API + tests for summarize-core","description":"Adjust /summarize request schema for summarize-core (length options, file/media URLs). Update tests to cover new extraction paths and fallbacks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:14:34.62762-08:00","updated_at":"2025-12-30T09:51:07.738503-08:00","closed_at":"2025-12-30T09:51:07.738503-08:00","close_reason":"Completed","dependencies":[{"issue_id":"ai-scrapbook-w4t.4","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:14:34.628348-08:00","created_by":"daemon"},{"issue_id":"ai-scrapbook-w4t.4","depends_on_id":"ai-scrapbook-qhh.3","type":"blocks","created_at":"2025-12-30T09:14:34.628985-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.5","title":"Decide/implement storage for extracted content + metadata","description":"Decide whether to persist summarize-core extracted content/transcripts/metadata in Supabase (new columns or table). Implement schema + type updates if needed, and document storage behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:16:23.847741-08:00","updated_at":"2025-12-30T09:53:24.652664-08:00","closed_at":"2025-12-30T09:53:24.652664-08:00","close_reason":"Not storing extracted content; rely on source URL for future re-summarization","dependencies":[{"issue_id":"ai-scrapbook-w4t.5","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:16:23.848679-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.6","title":"Document summarize-core capabilities + env keys","description":"Update docs (CLAUDE.md and docs/reference/API.md) with summarize-core behavior, supported URL/media types, and optional env keys (Firecrawl/Apify/YT-DLP/FAL).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:16:30.991753-08:00","updated_at":"2025-12-30T09:53:36.434556-08:00","closed_at":"2025-12-30T09:53:36.434556-08:00","close_reason":"Docs updated in CLAUDE.md and docs/reference/API.md","dependencies":[{"issue_id":"ai-scrapbook-w4t.6","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:16:30.992186-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-w4t.7","title":"Railway runtime validation for summarize-core","description":"Verify Railway build/runtime with Node 22 ESM + summarize-core. Confirm PATH/env handling, optional binaries (yt-dlp/ffmpeg) and timeouts. Document required Railway variables and buildpack notes.","notes":"Local validation: /summarize YouTube URL succeeded with yt-dlp transcript extraction and OpenAI billing enabled (short summary returned). Twitter URL succeeded with SWEETISTICS_API_KEY (bird) and returned summary/metadata. Reddit URL succeeded via summarize-core fallback.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:16:37.661376-08:00","updated_at":"2025-12-30T15:17:32.881913-08:00","closed_at":"2025-12-30T15:17:32.881913-08:00","close_reason":"Local runtime validation complete (YouTube/Reddit/Twitter).","dependencies":[{"issue_id":"ai-scrapbook-w4t.7","depends_on_id":"ai-scrapbook-w4t","type":"parent-child","created_at":"2025-12-30T09:16:37.661803-08:00","created_by":"daemon"}]}
{"id":"ai-scrapbook-yy6","title":"Add summarization endpoint for URLs (articles, Twitter, Reddit)","description":"Integrate @steipete/summarize and @steipete/bird to provide AI-powered summarization of articles, Twitter/X posts, and Reddit content","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T13:15:33.145634-08:00","updated_at":"2025-12-20T13:38:29.926368-08:00","closed_at":"2025-12-20T13:38:29.926371-08:00"}
{"id":"ai-scrapbook-yy6.1","title":"Add bird and snoowrap dependencies for Twitter and Reddit","description":"Add @steipete/bird for Twitter/X content extraction and snoowrap for Reddit API access","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T13:15:44.266491-08:00","updated_at":"2025-12-20T13:17:29.195701-08:00","closed_at":"2025-12-20T13:17:29.195705-08:00","dependencies":[{"issue_id":"ai-scrapbook-yy6.1","depends_on_id":"ai-scrapbook-yy6","type":"parent-child","created_at":"2025-12-20T13:15:44.267004-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-yy6.2","title":"Create Twitter content service using bird","description":"Create TwitterService that uses bird's TwitterClient to fetch tweet content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T13:15:44.451195-08:00","updated_at":"2025-12-20T13:18:54.766798-08:00","closed_at":"2025-12-20T13:18:54.766814-08:00","dependencies":[{"issue_id":"ai-scrapbook-yy6.2","depends_on_id":"ai-scrapbook-yy6","type":"parent-child","created_at":"2025-12-20T13:15:44.45154-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-yy6.3","title":"Create Reddit content service using snoowrap","description":"Create RedditService that uses snoowrap to fetch post and comment content via Reddit API","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T13:15:44.627591-08:00","updated_at":"2025-12-20T13:19:05.192691-08:00","closed_at":"2025-12-20T13:19:05.192694-08:00","dependencies":[{"issue_id":"ai-scrapbook-yy6.3","depends_on_id":"ai-scrapbook-yy6","type":"parent-child","created_at":"2025-12-20T13:15:44.627937-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-yy6.4","title":"Create unified summarization service","description":"Create SummarizeService that detects URL type, extracts content using appropriate service, and generates AI summary","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T13:15:44.807288-08:00","updated_at":"2025-12-20T13:20:02.821202-08:00","closed_at":"2025-12-20T13:20:02.821216-08:00","dependencies":[{"issue_id":"ai-scrapbook-yy6.4","depends_on_id":"ai-scrapbook-yy6","type":"parent-child","created_at":"2025-12-20T13:15:44.807639-08:00","created_by":"daemon","metadata":"{}"}]}
{"id":"ai-scrapbook-yy6.5","title":"Add /summarize API endpoint","description":"Add POST /summarize endpoint that accepts a URL and returns AI-generated summary","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T13:15:44.982381-08:00","updated_at":"2025-12-20T13:38:29.87404-08:00","closed_at":"2025-12-20T13:38:29.874052-08:00","dependencies":[{"issue_id":"ai-scrapbook-yy6.5","depends_on_id":"ai-scrapbook-yy6","type":"parent-child","created_at":"2025-12-20T13:15:44.982718-08:00","created_by":"daemon","metadata":"{}"}]}
